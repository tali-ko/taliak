<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Talia Kotlyar is 8 years old and loves reading, dancing, and vibe coding."
    />
    <title>Talia Kotlyar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="ambient" aria-hidden="true">
      <span class="blob blob-a"></span>
      <span class="blob blob-b"></span>
      <span class="blob blob-c"></span>
    </div>

    <main class="card">
      <p class="eyebrow">Welcome to Talia's page</p>
      <h1>Talia Kotlyar</h1>
      <p class="summary">
        Talia is 8 years old and loves reading, dancing, and now started vibe
        coding.
      </p>

      <section class="content">
        <figure class="portrait">
          <img
            src="assets/talia.jpeg"
            alt="Portrait of Talia"
            width="560"
            height="560"
          />
        </figure>

        <div class="details">
          <h2>What she enjoys</h2>
          <ul>
            <li>Reading stories and finding new adventures in books</li>
            <li>Dancing with fun music and big energy</li>
            <li>Learning vibe coding and building creative ideas</li>
          </ul>
        </div>
      </section>

      <section class="projects" aria-labelledby="projects-title">
        <h2 id="projects-title">My Projects</h2>
        <ul id="projects-list" class="projects-list">
          <li class="project-card placeholder">Loading projects...</li>
        </ul>
      </section>
    </main>

    <script>
      (async () => {
        const list = document.getElementById("projects-list");

        const showMessage = (message) => {
          list.innerHTML = "";
          const item = document.createElement("li");
          item.className = "project-card placeholder";
          item.textContent = message;
          list.appendChild(item);
        };

        try {
          const response = await fetch("projects/manifest.json", {
            cache: "no-store",
          });

          if (!response.ok) {
            throw new Error("Manifest not available");
          }

          const projects = await response.json();
          if (!Array.isArray(projects) || projects.length === 0) {
            showMessage("No projects yet. Add an HTML file to projects/.");
            return;
          }

          list.innerHTML = "";
          for (const project of projects) {
            if (
              !project ||
              typeof project.title !== "string" ||
              typeof project.path !== "string"
            ) {
              continue;
            }

            const item = document.createElement("li");
            item.className = "project-card";

            const link = document.createElement("a");
            link.href = project.path;
            link.textContent = project.title;
            link.className = "project-link";

            item.appendChild(link);
            list.appendChild(item);
          }

          if (!list.children.length) {
            showMessage("No valid projects found.");
          }
        } catch (error) {
          showMessage("Projects list is unavailable right now.");
        }
      })();
    </script>
  </body>
</html>
